"use strict";var __decorate=this&&this.__decorate||function(e,t,a,o){var r,s=arguments.length,c=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,o);else for(var i=e.length-1;0<=i;i--)(r=e[i])&&(c=(s<3?r(c):3<s?r(t,a,c):r(t,a))||c);return 3<s&&c&&Object.defineProperty(t,a,c),c};exports.__esModule=!0;var core_1=require("@angular/core"),paginator_1=require("@angular/material/paginator"),sort_1=require("@angular/material/sort"),table_1=require("@angular/material/table"),CustomerComponent=function(){function e(e,t,a){this.service=e,this.toastr=t,this.router=a,this.haveedit=!1,this.haveadd=!1,this.havedelete=!1,this.displayedColumns=["id","customerName","mobile","email","adress","type","status","action"],this.SetAccesspermission()}return e.prototype.ngAfterViewInit=function(){},e.prototype.LoadCustomer=function(){var t=this;this.service.GetAllCustomer().subscribe(function(e){t.customerlist=e,t.dataSource=new table_1.MatTableDataSource(t.customerlist),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort})},e.prototype.SetAccesspermission=function(){var t=this;this.service.Getaccessbyrole(this.service.getrole(),"customer").subscribe(function(e){t.accessdata=e,0<t.accessdata.length?(t.haveadd=t.accessdata[0].haveadd,t.haveedit=t.accessdata[0].haveedit,t.havedelete=t.accessdata[0].havedelete,t.LoadCustomer()):(alert("you are not authorized to access."),t.router.navigate([""]))})},e.prototype.updatecustomer=function(e){this.haveedit?this.toastr.success("Success"):this.toastr.warning("You don't have access for Edit")},e.prototype.removecustomer=function(e){this.havedelete?this.toastr.success("Success"):this.toastr.warning("You don't have access for Delete")},e.prototype.addcustomer=function(){this.haveadd?this.toastr.success("Success"):this.toastr.warning("You don't have access for Create")},e.prototype.applyFilter=function(e){var t=e.target.value;this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},__decorate([core_1.ViewChild(paginator_1.MatPaginator)],e.prototype,"paginator"),__decorate([core_1.ViewChild(sort_1.MatSort)],e.prototype,"sort"),e=__decorate([core_1.Component({selector:"app-customer",templateUrl:"./customer.component.html",styleUrls:["./customer.component.css"]})],e)}();exports.CustomerComponent=CustomerComponent;
//# sourceMappingURL=customer.component.min.js.map
