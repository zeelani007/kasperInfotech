{"version":3,"sources":["sidebar.component.ts"],"names":[],"mappings":"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","file":"sidebar.component.js","sourcesContent":["import { Component, OnInit, OnDestroy, OnChanges,DoCheck } from '@angular/core';\r\nimport { Breakpoints, BreakpointObserver, BreakpointState } from '@angular/cdk/layout';\r\nimport { Router,Route, Event, NavigationStart, NavigationEnd, NavigationCancel,ActivatedRoute, NavigationError } from '@angular/router';\r\nimport { AuthService } from '../service/auth.service';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\nexport class SidebarComponent implements OnInit, OnChanges, OnDestroy {\r\n  title = 'ng crm';\r\n  user: any = null;\r\n  isMobile: boolean;\r\n  mode = \"side\"\r\n  uiContent = \"content\"\r\n  progrssBarClass = \"progress-bar\";\r\n  isloading = true;\r\n   isadmin=false;\r\n  isMenuVisible=false;\r\n  \r\n\r\n  constructor(\r\n    // private loadingBar: SlimLoadingBarService,\r\n    private route: Router,\r\n    // public AuthService: AuthService,\r\n    private breakpointObserver: BreakpointObserver\r\n  )\r\n   {\r\n    console.log(\" constructor\")\r\n\r\n    this.isloading = true;\r\n\r\n    breakpointObserver.observe([\r\n      Breakpoints.HandsetLandscape,\r\n      Breakpoints.HandsetPortrait\r\n    ]).subscribe(result => {\r\n      console.log(result)\r\n      if (result.matches) {\r\n        // this.activateHandsetLayout();\r\n        this.isMobile = true;\r\n        this.mode = \"over\"\r\n        this.uiContent = \"mobile-content\"\r\n      }\r\n      else {\r\n        this.isMobile = false;\r\n        this.mode = \"side\"\r\n        this.uiContent = \"content\"\r\n      }\r\n    });\r\n\r\n    // this.route.events.subscribe((event: Event) => {\r\n    //   this.navigationInterceptor(event);\r\n    // })\r\n    //   ;\r\n  }\r\n\r\n  ngOnChanges() {\r\n    console.log(\" ngOnChanges\")\r\n  }\r\n\r\n\r\n  // ngOnInit(): void {\r\n  //   console.log(\" ngOnInit\")\r\n  //   this.user = this.AuthService.getUser();\r\n  //   this.isloading = false;\r\n  // }\r\n\r\n  // logout(): void {\r\n  //   // localStorage.removeItem('currentUser');\r\n  //   this.AuthService.logout()\r\n  //   this.route.navigate(['login']);\r\n  // }\r\n\r\n\r\n\r\n  // isAuth(isAuth?: any) {\r\n  //   if (isAuth) {\r\n  //     this.user = this.authService.getUser()\r\n  //     // this.user = JSON.parse(localStorage.getItem(APP_USER_PROFILE)) || <User>{};\r\n  //   }\r\n  // }\r\n\r\n  private navigationInterceptor(event: Event): void {\r\n    if (event instanceof NavigationStart) {\r\n      this. progrssBarClass = \"progress-bar\";\r\n      this.isloading = true;\r\n    }\r\n    if (event instanceof NavigationEnd) {\r\n      this. progrssBarClass = \"progress-bar-hidden\";\r\n      this.isloading = false;\r\n    }\r\n    if (event instanceof NavigationCancel) {\r\n      this. progrssBarClass = \"progress-bar-hidden\";\r\n      this.isloading = false;\r\n    }\r\n    if (event instanceof NavigationError) {\r\n      this. progrssBarClass = \"progress-bar-hidden\";\r\n      this.isloading = false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  // ngOnDestroy() {\r\n  //   this.breakpointObserver.ngOnDestroy()\r\n  //   this.authService.logout()\r\n  //   //   this.router.events\r\n  //   // this.breakpoint.\r\n  // }\r\n  ngDoCheck(): void {\r\n    let currentroute = this.route.url;\r\n    let role=sessionStorage.getItem('role');\r\n    if (currentroute == '/login' || currentroute == '/register') {\r\n      this.isMenuVisible = false\r\n    } else {\r\n      this.isMenuVisible = true\r\n    }\r\n\r\n    if (role == 'admin') {\r\n      this.isadmin = true;\r\n    }else{\r\n      this.isadmin = false;\r\n    }\r\n  }\r\n\r\n \r\n}\r\n"]}