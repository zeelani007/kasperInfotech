{"version":3,"sources":["sidebar.component.ts"],"names":["core_1","require","layout_1","router_1","SidebarComponent","route","breakpointObserver","_this","this","title","user","mode","uiContent","progrssBarClass","isloading","isadmin","isMenuVisible","console","log","observe","Breakpoints","HandsetLandscape","HandsetPortrait","subscribe","result","matches","isMobile","prototype","ngOnChanges","navigationInterceptor","event","NavigationStart","NavigationEnd","NavigationCancel","NavigationError","ngDoCheck","currentroute","url","role","sessionStorage","getItem","__decorate","Component","selector","templateUrl","styleUrls","exports"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBACAC,SAAAD,QAAA,uBACAE,SAAAF,QAAA,mBAUAG,iBAAA,WAYE,SAAAA,EAEUC,EAEAC,GAJV,IAAAC,EAAAC,KAEUA,KAAAH,MAAAA,EAEAG,KAAAF,mBAAAA,EAfVE,KAAAC,MAAQ,SACRD,KAAAE,KAAY,KAEZF,KAAAG,KAAO,OACPH,KAAAI,UAAY,UACZJ,KAAAK,gBAAkB,eAClBL,KAAAM,WAAY,EACXN,KAAAO,SAAQ,EACTP,KAAAQ,eAAc,EAUZC,QAAQC,IAAI,gBAEZV,KAAKM,WAAY,EAEjBR,EAAmBa,QAAQ,CACzBjB,SAAAkB,YAAYC,iBACZnB,SAAAkB,YAAYE,kBACXC,UAAU,SAAAC,GACXP,QAAQC,IAAIM,GACRA,EAAOC,SAETlB,EAAKmB,UAAW,EAChBnB,EAAKI,KAAO,OACZJ,EAAKK,UAAY,mBAGjBL,EAAKmB,UAAW,EAChBnB,EAAKI,KAAO,OACZJ,EAAKK,UAAY,aAgFzB,OAtEER,EAAAuB,UAAAC,YAAA,WACEX,QAAQC,IAAI,iBAyBNd,EAAAuB,UAAAE,sBAAR,SAA8BC,GACxBA,aAAiB3B,SAAA4B,kBACnBvB,KAAMK,gBAAkB,eACxBL,KAAKM,WAAY,GAEfgB,aAAiB3B,SAAA6B,gBACnBxB,KAAMK,gBAAkB,sBACxBL,KAAKM,WAAY,GAEfgB,aAAiB3B,SAAA8B,mBACnBzB,KAAMK,gBAAkB,sBACxBL,KAAKM,WAAY,GAEfgB,aAAiB3B,SAAA+B,kBACnB1B,KAAMK,gBAAkB,sBACxBL,KAAKM,WAAY,IAYrBV,EAAAuB,UAAAQ,UAAA,WACE,IAAIC,EAAe5B,KAAKH,MAAMgC,IAC1BC,EAAKC,eAAeC,QAAQ,QAE9BhC,KAAKQ,cADa,UAAhBoB,GAA4C,aAAhBA,EAO9B5B,KAAKO,QADK,SAARuB,GA7GKlC,EAAgBqC,WAAA,CAL5BzC,OAAA0C,UAAU,CACTC,SAAU,cACVC,YAAa,2BACbC,UAAW,CAAC,+BAEDzC,GAAb,GAAa0C,QAAA1C,iBAAAA","file":"sidebar.component.min.js","sourcesContent":["import { Component, OnInit, OnDestroy, OnChanges,DoCheck } from '@angular/core';\nimport { Breakpoints, BreakpointObserver, BreakpointState } from '@angular/cdk/layout';\nimport { Router,Route, Event, NavigationStart, NavigationEnd, NavigationCancel,ActivatedRoute, NavigationError } from '@angular/router';\nimport { AuthService } from '../service/auth.service';\nimport { Observable } from 'rxjs';\n\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent implements OnInit, OnChanges, OnDestroy {\n  title = 'ng crm';\n  user: any = null;\n  isMobile: boolean;\n  mode = \"side\"\n  uiContent = \"content\"\n  progrssBarClass = \"progress-bar\";\n  isloading = true;\n   isadmin=false;\n  isMenuVisible=false;\n  \n\n  constructor(\n    // private loadingBar: SlimLoadingBarService,\n    private route: Router,\n    // public AuthService: AuthService,\n    private breakpointObserver: BreakpointObserver\n  )\n   {\n    console.log(\" constructor\")\n\n    this.isloading = true;\n\n    breakpointObserver.observe([\n      Breakpoints.HandsetLandscape,\n      Breakpoints.HandsetPortrait\n    ]).subscribe(result => {\n      console.log(result)\n      if (result.matches) {\n        // this.activateHandsetLayout();\n        this.isMobile = true;\n        this.mode = \"over\"\n        this.uiContent = \"mobile-content\"\n      }\n      else {\n        this.isMobile = false;\n        this.mode = \"side\"\n        this.uiContent = \"content\"\n      }\n    });\n\n    // this.route.events.subscribe((event: Event) => {\n    //   this.navigationInterceptor(event);\n    // })\n    //   ;\n  }\n\n  ngOnChanges() {\n    console.log(\" ngOnChanges\")\n  }\n\n\n  // ngOnInit(): void {\n  //   console.log(\" ngOnInit\")\n  //   this.user = this.AuthService.getUser();\n  //   this.isloading = false;\n  // }\n\n  // logout(): void {\n  //   // localStorage.removeItem('currentUser');\n  //   this.AuthService.logout()\n  //   this.route.navigate(['login']);\n  // }\n\n\n\n  // isAuth(isAuth?: any) {\n  //   if (isAuth) {\n  //     this.user = this.authService.getUser()\n  //     // this.user = JSON.parse(localStorage.getItem(APP_USER_PROFILE)) || <User>{};\n  //   }\n  // }\n\n  private navigationInterceptor(event: Event): void {\n    if (event instanceof NavigationStart) {\n      this. progrssBarClass = \"progress-bar\";\n      this.isloading = true;\n    }\n    if (event instanceof NavigationEnd) {\n      this. progrssBarClass = \"progress-bar-hidden\";\n      this.isloading = false;\n    }\n    if (event instanceof NavigationCancel) {\n      this. progrssBarClass = \"progress-bar-hidden\";\n      this.isloading = false;\n    }\n    if (event instanceof NavigationError) {\n      this. progrssBarClass = \"progress-bar-hidden\";\n      this.isloading = false;\n    }\n\n  }\n\n\n  // ngOnDestroy() {\n  //   this.breakpointObserver.ngOnDestroy()\n  //   this.authService.logout()\n  //   //   this.router.events\n  //   // this.breakpoint.\n  // }\n  ngDoCheck(): void {\n    let currentroute = this.route.url;\n    let role=sessionStorage.getItem('role');\n    if (currentroute == '/login' || currentroute == '/register') {\n      this.isMenuVisible = false\n    } else {\n      this.isMenuVisible = true\n    }\n\n    if (role == 'admin') {\n      this.isadmin = true;\n    }else{\n      this.isadmin = false;\n    }\n  }\n\n \n}\n"]}