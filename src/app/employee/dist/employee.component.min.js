"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var i,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(n<3?i(a):3<n?i(t,o,a):i(t,o))||a);return 3<n&&a&&Object.defineProperty(t,o,a),a};exports.__esModule=!0;var core_1=require("@angular/core"),EmployeeComponent=function(){function e(e,t){this.fb=e,this.employeeService=t,this.educationOptions=["10th pass","diploma","graduate","post graduate","PhD"],this.employeeForm=e.group({}),this.employees=[],this.employeesToDisplay=this.employees}return e.prototype.ngOnInit=function(){var i=this;this.employeeForm=this.fb.group({firstname:this.fb.control(""),lastname:this.fb.control(""),birthday:this.fb.control(""),gender:this.fb.control(""),education:this.fb.control("default"),company:this.fb.control(""),jobExperience:this.fb.control(""),salary:this.fb.control("")}),this.employeeService.getEmployees().subscribe(function(e){for(var t=0,o=e;t<o.length;t++){var r=o[t];i.employees.unshift(r)}i.employeesToDisplay=i.employees})},e.prototype.ngAfterViewInit=function(){},e.prototype.addEmployee=function(){var e,t=this,o={firstname:this.FirstName.value,lastname:this.LastName.value,birthdate:this.BirthDay.value,gender:this.Gender.value,education:this.educationOptions[parseInt(this.Education.value)],company:this.Company.value,jobExperience:this.JobExperience.value,salary:this.Salary.value,profile:null===(e=this.fileInput.nativeElement.files[0])||void 0===e?void 0:e.name};this.employeeService.postEmployee(o).subscribe(function(e){t.employees.unshift(e),t.clearForm()})},e.prototype.removeEmployee=function(o){var r=this;this.employees.forEach(function(e,t){e.id===parseInt(o)&&r.employeeService.deleteEmployee(o).subscribe(function(e){r.employees.splice(t,1)})})},e.prototype.editEmployee=function(o){var r=this;this.employees.forEach(function(e,t){e.id===o&&r.setForm(e)}),this.removeEmployee(o),this.addEmployeeButton.nativeElement.click()},e.prototype.setForm=function(o){this.FirstName.setValue(o.firstname),this.LastName.setValue(o.lastname),this.BirthDay.setValue(o.birthdate),this.Gender.setValue(o.gender);var r=0;this.educationOptions.forEach(function(e,t){e===o.education&&(r=t)}),this.Education.setValue(r),this.Company.setValue(o.company),this.JobExperience.setValue(o.jobExperience),this.Salary.setValue(o.salary),this.fileInput.nativeElement.value=""},e.prototype.searchEmployees=function(i){var e=[];""===i?this.employeesToDisplay=this.employees:(e=this.employees.filter(function(e,t){var o=e.firstname.toLowerCase()+""+e.lastname.toLowerCase(),r=i.toLowerCase();return o.includes(r)}),this.employeesToDisplay=e)},e.prototype.clearForm=function(){this.FirstName.setValue(""),this.LastName.setValue(""),this.BirthDay.setValue(""),this.Gender.setValue(""),this.Education.setValue(""),this.Company.setValue(""),this.JobExperience.setValue(""),this.Salary.setValue(""),this.fileInput.nativeElement.value=""},Object.defineProperty(e.prototype,"FirstName",{get:function(){return this.employeeForm.get("firstname")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastName",{get:function(){return this.employeeForm.get("lastname")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BirthDay",{get:function(){return this.employeeForm.get("birthday")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Gender",{get:function(){return this.employeeForm.get("gender")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Education",{get:function(){return this.employeeForm.get("education")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Company",{get:function(){return this.employeeForm.get("company")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"JobExperience",{get:function(){return this.employeeForm.get("jobExperience")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Salary",{get:function(){return this.employeeForm.get("salary")},enumerable:!0,configurable:!0}),__decorate([core_1.ViewChild("fileInput")],e.prototype,"fileInput"),__decorate([core_1.ViewChild("addEmployeeButton")],e.prototype,"addEmployeeButton"),e=__decorate([core_1.Component({selector:"app-employee",templateUrl:"./employee.component.html",styleUrls:["./employee.component.css"]})],e)}();exports.EmployeeComponent=EmployeeComponent;
//# sourceMappingURL=employee.component.min.js.map
